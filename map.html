<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>INDIA</title>
   <script src="https://code.highcharts.com/maps/highmaps.js"></script>
<script src="https://code.highcharts.com/maps/modules/exporting.js"></script>
<script src="https://code.highcharts.com/mapdata/countries/in/in-all.js"></script>


  <style>
   

    #container {
    height: 500px; 
    min-width: 310px; 
    max-width: 800px; 
    margin: 0 auto; 
}
.loading {
    margin-top: 10em;
    text-align: center;
    color: gray;
}
  </style>
</head>

<body>
  <div id="container"></div>

  <script>
var obj = new Object();
fetch('https://api.covid19india.org/data.json').then((response)=>
{
   // console.log(response);
    return response.json();

}).then((data)=>
{
    console.log(data.statewise);
    var total = data.statewise;
    
    for(var i=0;i<total.length;i++)
    {
        if(total[i].state == 'West Bengal')
            obj[2] = total[i].confirmed;

        if(total[i].state == 'Maharashtra')
            obj[25] = total[i].confirmed;

        if(total[i].state == 'Punjab')
            obj[29] = total[i].confirmed;

        if(total[i].state == 'Rajasthan')
            obj[30] = total[i].confirmed;

        if(total[i].state == 'Madhya Pradesh')
            obj[8] = total[i].confirmed;

        if(total[i].state == 'Gujarat')
            obj[9] = total[i].confirmed;

         if(total[i].state == 'Tamil Nadu')
            obj[7] = total[i].confirmed;

         if(total[i].state == 'Uttar Pradesh')
            obj[31] = total[i].confirmed;

         if(total[i].state == 'Andhra Pradesh')
            obj[27] = total[i].confirmed;

        if(total[i].state == 'Kerala')
            obj[22] = total[i].confirmed;

        if(total[i].state == 'Karnataka')
            obj[23] = total[i].confirmed;

        if(total[i].state == 'Haryana')
            obj[18] = total[i].confirmed;

         if(total[i].state == 'Odisha')
            obj[3] = total[i].confirmed;

         if(total[i].state == 'Himachal Pradesh')
            obj[20] = total[i].confirmed;

         if(total[i].state == 'Bihar')
            obj[4] = total[i].confirmed;


          if(total[i].state == 'Bihar')
            obj[4] = total[i].confirmed;
          
           if(total[i].state == 'Jammu and Kashmir')
            obj[21] = total[i].confirmed; 

          if(total[i].state == 'Chhattisgarh')
            obj[6] = total[i].confirmed; 


          if(total[i].state == 'Assam')
            obj[26] = total[i].confirmed; 


          if(total[i].state == 'Goa')
            obj[10] = total[i].confirmed; 
           
           if(total[i].state == 'Mizoram')
           obj[14] = total[i].confirmed;  

            if(total[i].state == 'Arunachal Pradesh')
           obj[13] = total[i].confirmed;  


            if(total[i].state == 'Nagaland')
           obj[11] = total[i].confirmed;  

             if(total[i].state == 'Sikkim')
           obj[5] = total[i].confirmed; 

          if(total[i].state == 'Manipur')
           obj[12] = total[i].confirmed;

            if(total[i].state == 'Meghalaya')
           obj[28] = total[i].confirmed;

          if(total[i].state == 'Tripura')
           obj[15] = total[i].confirmed;

           if(total[i].state == 'Jharkhand')
           obj[33] = total[i].confirmed;

          
          
          



            
  
 
 
 
 
 

 
 
 
 
 
 
 
 
 
 
    }
    fetchMap();
}).catch((error)=>
{
       console.log(error);
});



function fetchMap() {
        
var data = [
    ['in-py', 0],
    ['in-ld', 1],
    ['in-wb', obj[2]],
    ['in-or', obj[3]],
    ['in-br', obj[4]],
    ['in-sk', obj[5]],
    ['in-ct', obj[6]],
    ['in-tn', obj[7]],
    ['in-mp', obj[8]],
    ['in-2984',obj[9]],
    ['in-ga', obj[10]],
    ['in-nl', obj[11]],
    ['in-mn', obj[12]],
    ['in-ar', obj[13]],
    ['in-mz', obj[14]],
    ['in-tr', obj[15]],
    ['in-3464', 16],
    ['in-dl', 17],
    ['in-hr', obj[18]],
    ['in-ch', 19],
    ['in-hp', obj[20]],
    ['in-jk', obj[21]],
    ['in-kl', obj[22]],
    ['in-ka', obj[23]],
    ['in-dn', 24],
    ['in-mh', obj[25]],
    ['in-as', obj[26]],
    ['in-ap', obj[27]],
    ['in-ml', obj[28]],
    ['in-pb', obj[29]],
    ['in-rj', obj[30]],
    ['in-up', obj[31]],
    ['in-ut', 32],
    ['in-jh', obj[33]]
];


// Create the chart
Highcharts.mapChart('container', {
    chart: {
        map: 'countries/in/in-all'
    },

    title: {
        text: 'Confirmed Cases In States'
    },

    subtitle: {
        text: 'Source map: <a href="http://code.highcharts.com/mapdata/countries/in/in-all.js">India</a>'
    },

    mapNavigation: {
        enabled: true,
        buttonOptions: {
            verticalAlign: 'bottom'
        }
    },

    colorAxis: {
        min: 0
    },

    series: [{
        data: data,

        name: 'Confirmed Cases',
        states: {
            hover: {
                color: '#19B8FC'
            }
        },
        dataLabels: {
           // enabled: true,
           // format: '{point.name}'
        }
    }]
});

}



  </script>
</body>

</html>